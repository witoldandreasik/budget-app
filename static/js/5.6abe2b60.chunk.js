(this["webpackJsonpbudget-app"]=this["webpackJsonpbudget-app"]||[]).push([[5],{76:function(t,n,e){"use strict";var r={};e.r(r),e.d(r,"fetchBudget",(function(){return i})),e.d(r,"fetchBudgetedCategories",(function(){return s})),e.d(r,"addTransaction",(function(){return d}));var a={};e.r(a),e.d(a,"fetchAllCategories",(function(){return f}));var c=e(28),u=e.n(c),o=e(36),i=function(){var t=Object(o.a)(u.a.mark((function t(n,e){var r,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,console.log({id:r}),t.next=4,fetch("".concat("http://localhost:3001","/budgets/").concat(r,"/?_embed=transactions"));case 4:return a=t.sent,t.next=7,a.json();case 7:return c=t.sent,t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),s=function(){var t=Object(o.a)(u.a.mark((function t(n,e){var r,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(r,"/budgetCategories"));case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(u.a.mark((function t(n){var e,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.budgetId,r=n.data,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(e,"/transactions/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(u.a.mark((function t(){var n,e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:3001","/categories/?_expand=parentCategory"));case 2:return n=t.sent,t.next=5,n.json();case 5:return e=t.sent,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n.a={budget:r,common:a}},77:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return a}));var r=function(t){var n=Number(t);return new Intl.NumberFormat("pl",{style:"currency",currency:"PLN"}).format(n)},a=function(t){var n=new Date(t);return new Intl.DateTimeFormat("pl").format(n)}},83:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return m}));var r=e(15),a=e(0),c=e.n(a),u=e(78),o=e(21),i=e(77),s=e(76),d=e(38),f=e(2),l=e(1);function p(){var t=Object(f.a)(["\n  background-color: ",";\n  border: 1px solid ",";\n  padding: ","px;\n  display: flex;\n  justify-content: space-between;\n\n  > *:nth-child(1) {\n    flex: 4;\n  }\n  > *:nth-child(2) {\n    flex: 2;\n  }\n  > *:nth-child(3) {\n    flex: 3;\n  }\n  > *:nth-child(4) {\n    flex: 2;\n  }\n"]);return p=function(){return t},t}function b(){var t=Object(f.a)(["\n  margin-left: 3px;\n  li {\n    margin: 0;\n  }\n"]);return b=function(){return t},t}var h=l.default.ul(b()),g=l.default.li(p(),(function(t){return t.theme.colors.gray.normal}),(function(t){return t.theme.colors.black.normal}),(function(t){return t.theme.spacing.xs}));var m=function(){var t=Object(o.d)(["budget",{id:1}],s.a.budget.fetchBudget).data,n=Object(o.d)("allCategories",s.a.common.fetchAllCategories).data,e=Object(o.d)(["budgetedCategories",{id:1}],s.a.budget.fetchBudgetedCategories).data,f=Object(a.useContext)(d.a.store).selectedParentCategoryId,l=Object(a.useMemo)((function(){return"undefined"===typeof f?t.transactions:null===f?t.transactions.filter((function(t){return!e.some((function(n){return n.categoryId===t.categoryId}))})):t.transactions.filter((function(t){try{return n.find((function(n){return n.id===t.categoryId})).parentCategory.name===f}catch(e){return!1}}))}),[n,e,f,t.transactions]),p=Object(a.useMemo)((function(){return Object(u.groupBy)(l,(function(t){return new Date(t.date).getUTCDate()}))}),[l]);return c.a.createElement(h,null,Object.entries(p).map((function(t){var e=Object(r.a)(t,2),a=e[0],u=e[1];return c.a.createElement("li",{key:a},c.a.createElement("ul",null,u.map((function(t){return c.a.createElement(g,{key:t.id},c.a.createElement("div",null,t.description),c.a.createElement("div",null,Object(i.a)(t.amount)),c.a.createElement("div",null,Object(i.b)(t.date)),c.a.createElement("div",null,(n.find((function(n){return n.id===t.categoryId}))||{}).name))}))))})))}}}]);
//# sourceMappingURL=5.6abe2b60.chunk.js.map